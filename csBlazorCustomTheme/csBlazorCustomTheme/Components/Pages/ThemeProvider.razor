@inject ThemeService ThemeService
@implements IAsyncDisposable

<CascadingValue Value="this">
    @ChildContent
</CascadingValue>

<style>
    @{
            var primaryColor = ThemeService.GetColor("colorPrimary", "#1890ff");
            var successColor = ThemeService.GetColor("colorSuccess", "#52c41a");
            var warningColor = ThemeService.GetColor("colorWarning", "#faad14");
            var errorColor = ThemeService.GetColor("colorError", "#ff4d4f");
            var fontSize = "14";
            var borderRadius = "6";
    }

    :root {
        --ant-color-primary: @primaryColor;
        --ant-color-success: @successColor;
        --ant-color-warning: @warningColor;
        --ant-color-error: @errorColor;
        --ant-font-size: @fontSize px;
        --ant-border-radius: @borderRadius px;
    }
</style>

@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await ThemeService.LoadThemeAsync();
    }

    async ValueTask IAsyncDisposable.DisposeAsync()
    {
        // 清理资源
        await Task.CompletedTask;
    }
}